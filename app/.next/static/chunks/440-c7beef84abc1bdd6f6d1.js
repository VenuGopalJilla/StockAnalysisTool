(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{440:function(t,e,n){"use strict";n.r(e);var a=n(5893),r=n(7757),s=n.n(r),o=n(2137),i=n(6610),c=n(5991),l=n(3349),u=n(5255),d=n(6070),p=n(7608),f=n(6156),h=n(7294),m=n(9669),y=n.n(m),g=n(7963),x=n(90),v=n(1749),j=n(2318),Z=n(8286),b=n(6445),C=n(3700),P=n(2930),k=n(6479),D=n(282),S=n(9895),w=n(1267),O=n(1607),T=n(3727),B=n(3484);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,f.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,p.Z)(t);if(e){var r=(0,p.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.Z)(this,n)}}var F=function(t){(0,u.Z)(n,t);var e=M(n);function n(t){var a;return(0,i.Z)(this,n),a=e.call(this,t),(0,f.Z)((0,l.Z)(a),"componentDidMount",(function(){console.log("Comparison"),y().get("/api/companyNames").then((function(t){t.status,a.setState({companyNames:t.data},(function(){}))})).catch((function(t){console.log(t),a.setState({stockdetails:[],loading:!1},(function(){}))}))})),(0,f.Z)((0,l.Z)(a),"onClickSubmit",(0,o.Z)(s().mark((function t(){var e,n,r,o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.state.selectedCompanies.length<2)){t.next=5;break}return a.setState({error:"select atleast two companies"},(function(){})),t.abrupt("return");case 5:a.setState({error:"",loading:!0},(function(){}));case 6:for(e={},n=0;n<a.state.selectedCompanies.length;n++)r=a.state.selectedCompanies[n],e[r]={};o=s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.state.selectedCompanies[n],t.next=3,y().get("/api/previousdaystockdetails?company="+r).then((function(t){200===t.status&&(e[r]=Object.assign(e[r],t.data))})).catch((function(t){console.log(t)}));case 3:return t.next=5,y().get("/api/comparison?days="+a.state.selectedTimePeriod+"&rate="+a.state.rate+"&company="+r).then((function(t){200===t.status&&(e[r]=Object.assign(e[r],t.data))})).catch((function(t){console.log(t)}));case 5:case"end":return t.stop()}}),t)})),i=0;case 10:if(!(i<a.state.selectedCompanies.length)){t.next=15;break}return t.delegateYield(o(i),"t0",12);case 12:i++,t.next=10;break;case 15:a.setState({stockdetails:e,loading:!1},(function(){}));case 16:case"end":return t.stop()}}),t)})))),a.state={loading:!1,companyNames:[],selectedCompanies:[],selectedTimePeriod:"180",rate:"1",stockkeys:["Date","Open Price","High Price","Low Price","Close Price","WAP","No.of Shares","No. of Trades","Total Turnover (Rs.)","% Deli. Qty to Traded Qty","Spread High-Low","Spread Close-Open"],timePeriod:{"1 day":"1","7 days":"7","1 month":"30","3 months":"90","6 months":"180","1 year":"360","2 years":"720","5 years":"1800","10 years":"3600"},stockdetails:[],num:10,error:""},a}return(0,c.Z)(n,[{key:"render",value:function(){var t=this,e=g.ZP.invert(this.state.timePeriod);return(0,a.jsxs)(h.Fragment,{children:[(0,a.jsxs)(v.Z,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"center",children:[(0,a.jsx)(j.Z,{variant:"subtitle1",style:{color:"#05386B"},children:"Parameters for Comparison : "}),(0,a.jsx)("div",{style:{padding:"3px"}}),(0,a.jsx)(v.Z,{item:!0,xs:4,children:(0,a.jsx)(x.ZP,{multiple:!0,value:this.state.firstCompany,onChange:function(e,n,a,r){if("remove-option"===a){var s=t.state.stockdetails;delete s[r.option],t.setState({stockdetails:s},(function(){}))}else t.setState({selectedCompanies:n},(function(){}))},id:"select multiple companies",freeSolo:!0,options:this.state.companyNames.map((function(t){return t})),renderInput:function(e){return(0,a.jsx)(Z.Z,N(N({},e),{},{label:"Select Multiple Companies",margin:"normal",variant:"outlined",helperText:t.state.error,error:""!==t.state.error}))}})}),(0,a.jsx)(v.Z,{item:!0,children:(0,a.jsxs)(b.Z,{style:{minWidth:"150px"},variant:"outlined",children:[(0,a.jsx)(C.Z,{children:"trading period"}),(0,a.jsx)(P.Z,{style:{width:"100%"},labelId:"trading period",id:"trading",onChange:function(e){t.setState({selectedTimePeriod:e.target.value},(function(){}))},value:this.state.selectedTimePeriod,children:Object.keys(this.state.timePeriod).map((function(e){return(0,a.jsx)(k.Z,{value:t.state.timePeriod[e],children:e})}))})]})}),(0,a.jsx)(v.Z,{item:!0,xs:2,children:(0,a.jsx)(Z.Z,{type:"number",style:{width:"100%"},inputProps:{min:"-100",max:"100",step:"0.01"},label:"Rate of growth",variant:"outlined",value:this.state.rate,onChange:function(e){t.setState({rate:e.target.value})}})}),(0,a.jsx)(v.Z,{item:!0,children:(0,a.jsx)(D.Z,{variant:"outlined",size:"large",onClick:this.onClickSubmit,style:{backgroundColor:"#05386B",color:"#5CDB95"},children:"Submit"})})]}),this.state.loading?(0,a.jsx)(O.Z,{type:"ThreeDots",color:"#05386B",height:80,width:80}):0!==this.state.stockdetails.length&&(0,a.jsx)(v.Z,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center",children:Object.keys(this.state.stockdetails).map((function(n){var r=t.state.stockdetails[n];return(0,a.jsxs)(v.Z,{item:!0,xs:6,children:[(0,a.jsx)(S.Z,{style:{display:"flex",padding:"15px",margin:"15px",justifyContent:"center"},children:(0,a.jsx)(T.OL,{to:{pathname:"companydetails/"+r.company},children:(0,a.jsx)(j.Z,{variant:"h6",children:r.company})})}),(0,a.jsxs)(j.Z,{variant:"h6",children:["In the last ",e[r.totalNumberOfDays],", for"," ",r.percentOfDays," percent of trading days close price growth rate was more than ",r.rate," %"]}),(0,a.jsx)(B.default,{company:r.company}),t.state.stockkeys.map((function(t,e){var n=t+" : "+r[t];return(0,a.jsx)(w.Z,{color:"primary",variant:"outlined",label:n,style:{margin:"5px"}})}))]})}))})]})}}]),n}(h.Component);e.default=F},3484:function(t,e,n){"use strict";n.r(e);var a=n(5893),r=n(6610),s=n(5991),o=n(3349),i=n(5255),c=n(6070),l=n(7608),u=n(6156),d=n(7294),p=n(9669),f=n.n(p),h=n(5152),m=n(4670),y=n(4837),g=n(282),x=n(1607);function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,l.Z)(t);if(e){var r=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var j=(0,h.default)((function(){return Promise.all([n.e(279),n.e(229)]).then(n.bind(n,7229))}),{ssr:!1,loadableGenerated:{webpack:function(){return[7229]},modules:["Components\\Dashboard.jsx -> react-apexcharts"]}}),Z=function(t){(0,i.Z)(n,t);var e=v(n);function n(t){var a;return(0,r.Z)(this,n),a=e.call(this,t),(0,u.Z)((0,o.Z)(a),"componentDidMount",(function(){console.log("Dashboard"),"sp500"!==a.props.company?a.setState({company:a.props.company},(function(){f().get("/api/stockdetails?company="+a.state.company).then((function(t){200===t.status?a.setState({details:t.data,loading:!1},(function(){})):a.setState({details:[],loading:!1},(function(){}))})).then((function(){})).catch((function(t){console.log(t),a.setState({loading:!1,error:!0},(function(){}))}))})):a.setState({company:a.props.company},(function(){f().get("/api/sp500").then((function(t){200===t.status?a.setState({details:t.data,loading:!1},(function(){})):a.setState({details:[],loading:!1},(function(){}))})).catch((function(t){console.log(t),a.setState({loading:!1,error:!0},(function(){}))}))}))})),(0,u.Z)((0,o.Z)(a),"createGraph",(function(t){var e={name:"Close Price",data:[]},n={name:"Open Price",data:[]},r={name:"High Price",data:[]},s={name:"Low Price",data:[]};t="all"===t||t>a.state.details.length-1?a.state.details.length-1:t;for(var o=a.state.details[0].Date,i=a.state.details[t].Date,c=a.state.details.slice(0,t),l=0;l<c.length;l++){var u=c[l];e.data.push({x:u.Date,y:u["Close Price"]||u.Close}),n.data.push({x:u.Date,y:u["Open Price"]||u.Open}),r.data.push({x:u.Date,y:u["High Price"]||u.High}),s.data.push({x:u.Date,y:u["Low Price"]||u.Low})}var d=a.state.options;d.xaxis.min=i,d.xaxis.max=o;var p=[];p.push(e),p.push(n),p.push(r),p.push(s),a.setState({series:p,options:d},(function(){}))})),(0,u.Z)((0,o.Z)(a),"selectedPeriod",(function(t){var e=t.currentTarget.value;a.state.selectedPeriod!==e&&a.setState({selectedPeriod:e},(function(){a.createGraph(e)}))})),a.state={loading:!0,details:[],selectedPeriod:"",company:"",error:!1,series:[],options:{chart:{background:"#ffffff",type:"area",height:"auto",zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Stock Price Movement",align:"left",style:{fontSize:"18px",fontWeight:"bold",fontFamily:"Sans-serif",color:"black",display:"flex",justifyContent:"center"}},fill:{type:"solid",opacity:.9,gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,90,100]}},yaxis:{labels:{formatter:function(t){return t.toFixed()}},title:{text:"Price in Rs"}},xaxis:{type:"datetime",labels:{formatter:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}},title:{text:"Time Period"}},tooltip:{shared:!1,x:{formatter:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}},y:{formatter:function(t){return t}}}}},a}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props.classes;return(0,a.jsx)(d.Fragment,{children:this.state.loading?(0,a.jsx)(x.Z,{type:"ThreeDots",color:"#05386B",height:80,width:80}):!0!==this.state.error&&(0,a.jsxs)("div",{children:[(0,a.jsxs)(y.Z,{className:t.buttongroup,"aria-label":"contained primary button group",variant:"outlined",style:{display:"flex",justifyContent:"center",margin:"10px",backgroundColor:"#05386B"},children:[(0,a.jsx)(g.Z,{value:"7",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"7D"}),(0,a.jsx)(g.Z,{value:"30",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"1M"}),(0,a.jsx)(g.Z,{value:"90",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"3M"}),(0,a.jsx)(g.Z,{value:"180",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"6M"}),(0,a.jsx)(g.Z,{value:"360",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"1Y"}),(0,a.jsx)(g.Z,{value:"1800",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"5Y"}),(0,a.jsx)(g.Z,{value:"all",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"All"})]}),(0,a.jsx)("div",{className:t.divchart,children:(0,a.jsx)(j,{options:this.state.options,series:this.state.series,className:t.chart},"chart")})]})})}}]),n}(d.Component);e.default=(0,m.Z)((function(t){return{chart:{width:"80%"},divchart:{justifyContent:"center",alignItems:"center",display:"flex"},buttongroup:{display:"flex",justifyContent:"center",margin:"10px"}}}),{withTheme:!0})(Z)}}]);