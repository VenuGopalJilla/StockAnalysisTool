(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{3484:function(t,e,n){"use strict";n.r(e);var a=n(5893),o=n(6610),r=n(5991),i=n(3349),s=n(5255),l=n(6070),c=n(7608),u=n(6156),d=n(7294),h=n(9669),f=n.n(h),p=n(5152),y=n(4670),m=n(4837),x=n(282),g=n(1607);function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,c.Z)(t);if(e){var o=(0,c.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,l.Z)(this,n)}}var C=(0,p.default)((function(){return Promise.all([n.e(279),n.e(229)]).then(n.bind(n,7229))}),{ssr:!1,loadableGenerated:{webpack:function(){return[7229]},modules:["Components\\Dashboard.jsx -> react-apexcharts"]}}),P=function(t){(0,s.Z)(n,t);var e=v(n);function n(t){var a;return(0,o.Z)(this,n),a=e.call(this,t),(0,u.Z)((0,i.Z)(a),"componentDidMount",(function(){console.log("Dashboard"),"sp500"!==a.props.company?a.setState({company:a.props.company},(function(){f().get("/api/stockdetails?company="+a.state.company).then((function(t){200===t.status?a.setState({details:t.data,loading:!1},(function(){})):a.setState({details:[],loading:!1},(function(){}))})).then((function(){})).catch((function(t){console.log(t),a.setState({loading:!1,error:!0},(function(){}))}))})):a.setState({company:a.props.company},(function(){f().get("/api/sp500").then((function(t){200===t.status?a.setState({details:t.data,loading:!1},(function(){})):a.setState({details:[],loading:!1},(function(){}))})).catch((function(t){console.log(t),a.setState({loading:!1,error:!0},(function(){}))}))}))})),(0,u.Z)((0,i.Z)(a),"createGraph",(function(t){var e={name:"Close Price",data:[]},n={name:"Open Price",data:[]},o={name:"High Price",data:[]},r={name:"Low Price",data:[]};t="all"===t||t>a.state.details.length-1?a.state.details.length-1:t;for(var i=a.state.details[0].Date,s=a.state.details[t].Date,l=a.state.details.slice(0,t),c=0;c<l.length;c++){var u=l[c];e.data.push({x:u.Date,y:u["Close Price"]||u.Close}),n.data.push({x:u.Date,y:u["Open Price"]||u.Open}),o.data.push({x:u.Date,y:u["High Price"]||u.High}),r.data.push({x:u.Date,y:u["Low Price"]||u.Low})}var d=a.state.options;d.xaxis.min=s,d.xaxis.max=i;var h=[];h.push(e),h.push(n),h.push(o),h.push(r),a.setState({series:h,options:d},(function(){}))})),(0,u.Z)((0,i.Z)(a),"selectedPeriod",(function(t){var e=t.currentTarget.value;a.state.selectedPeriod!==e&&a.setState({selectedPeriod:e},(function(){a.createGraph(e)}))})),a.state={loading:!0,details:[],selectedPeriod:"",company:"",error:!1,series:[],options:{chart:{background:"#ffffff",type:"area",height:"auto",zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Stock Price Movement",align:"left",style:{fontSize:"18px",fontWeight:"bold",fontFamily:"Sans-serif",color:"black",display:"flex",justifyContent:"center"}},fill:{type:"solid",opacity:.9,gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,90,100]}},yaxis:{labels:{formatter:function(t){return t.toFixed()}},title:{text:"Price in Rs"}},xaxis:{type:"datetime",labels:{formatter:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}},title:{text:"Time Period"}},tooltip:{shared:!1,x:{formatter:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}},y:{formatter:function(t){return t}}}}},a}return(0,r.Z)(n,[{key:"render",value:function(){var t=this.props.classes;return(0,a.jsx)(d.Fragment,{children:this.state.loading?(0,a.jsx)(g.Z,{type:"ThreeDots",color:"#05386B",height:80,width:80}):!0!==this.state.error&&(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.Z,{className:t.buttongroup,"aria-label":"contained primary button group",variant:"outlined",style:{display:"flex",justifyContent:"center",margin:"10px",backgroundColor:"#05386B"},children:[(0,a.jsx)(x.Z,{value:"7",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"7D"}),(0,a.jsx)(x.Z,{value:"30",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"1M"}),(0,a.jsx)(x.Z,{value:"90",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"3M"}),(0,a.jsx)(x.Z,{value:"180",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"6M"}),(0,a.jsx)(x.Z,{value:"360",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"1Y"}),(0,a.jsx)(x.Z,{value:"1800",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"5Y"}),(0,a.jsx)(x.Z,{value:"all",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"All"})]}),(0,a.jsx)("div",{className:t.divchart,children:(0,a.jsx)(C,{options:this.state.options,series:this.state.series,className:t.chart},"chart")})]})})}}]),n}(d.Component);e.default=(0,y.Z)((function(t){return{chart:{width:"80%"},divchart:{justifyContent:"center",alignItems:"center",display:"flex"},buttongroup:{display:"flex",justifyContent:"center",margin:"10px"}}}),{withTheme:!0})(P)},9627:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Components/Dashboard",function(){return n(3484)}])}},function(t){t.O(0,[774,727,669,720,607,873,888,179],(function(){return e=9627,t(t.s=e);var e}));var e=t.O();_N_E=e}]);