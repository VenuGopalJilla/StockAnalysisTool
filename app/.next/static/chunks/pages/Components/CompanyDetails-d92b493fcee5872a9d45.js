(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{8934:function(t,e,n){"use strict";n.r(e);var a=n(5893),o=n(7757),s=n.n(o),r=n(2137),i=n(6610),c=n(5991),l=n(3349),u=n(5255),d=n(6070),p=n(7608),f=n(6156),h=n(9895),y=n(2318),m=n(1749),g=n(1267),x=n(4670),v=n(7294),C=n(9669),D=n.n(C),k=n(3484),Z=n(1607);function P(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,p.Z)(t);if(e){var o=(0,p.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.Z)(this,n)}}var b=function(t){(0,u.Z)(n,t);var e=P(n);function n(t){var a;return(0,i.Z)(this,n),a=e.call(this,t),(0,f.Z)((0,l.Z)(a),"componentDidMount",(function(){console.log("CompanyDetails");var t=a.props.match.params.company;a.setState({selectedCompany:t},(function(){a.getCompanyDetails(a.state.selectedCompany)}))})),(0,f.Z)((0,l.Z)(a),"getCompanyDetails",function(){var t=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D().get("/api/companydetails?company="+e).then((function(t){if(200===t.status){var n=t.data;D().get("/api/getsuggestions?company="+e).then((function(t){200===t.status&&(n=Object.assign(n,t.data))})).catch((function(t){console.log(t)})),a.setState({companyDetails:n,loading:!1},(function(){}))}else a.setState({companyDetails:[],loading:!1},(function(){}))}));case 2:return t.next=4,D().get("/api/previousdaystockdetails?company="+e).then((function(t){200===t.status?a.setState({stockdetails:t.data,loading:!1},(function(){})):a.setState({stockdetails:[],loading:!1},(function(){}))})).catch((function(t){console.log(t),a.setState({stockdetails:[],loading:!1},(function(){}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.state={companyDetails:[],companyCurrentDayStockDetails:[],selectedCompany:"",loading:!0,stockkeys:["Date","Open Price","High Price","Low Price","Close Price","WAP","No.of Shares","No. of Trades","Total Turnover (Rs.)","% Deli. Qty to Traded Qty","Spread High-Low","Spread Close-Open"],stockdetails:[]},a}return(0,c.Z)(n,[{key:"render",value:function(){var t=this;return(0,a.jsxs)(v.Fragment,{children:[""!==this.state.selectedCompany&&(0,a.jsxs)("div",{children:[(0,a.jsx)(h.Z,{elevation:0,style:{display:"flex",padding:"15px",margin:"15px",justifyContent:"center",backgroundColor:"#05386B",color:"#5CDB95"},children:(0,a.jsx)(y.Z,{variant:"subtitle1",children:this.state.selectedCompany})}),!0===this.state.loading?(0,a.jsx)(Z.Z,{type:"ThreeDots",color:"#05386B",height:80,width:80}):(0,a.jsx)(m.Z,{container:!0,children:Object.keys(this.state.companyDetails).map((function(e){if(null===t.state.companyDetails[e])return(0,a.jsx)("span",{});if("suggest"!==e||"buy"!==t.state.companyDetails[e]&&"sell"!==t.state.companyDetails[e]){var n=e+" : "+t.state.companyDetails[e];return(0,a.jsx)(g.Z,{color:"primary",variant:"outlined",label:n,style:{margin:"5px",backgroundColor:"#5CDB95",color:"#05386B"}})}var o="SUGGESTION  -- "+t.state.companyDetails[e].toUpperCase();return(0,a.jsx)(g.Z,{color:"primary",variant:"outlined",label:o,style:{margin:"5px",backgroundColor:"#05386B",color:"#5CDB95"}})}))})]}),0!==this.state.stockdetails.length&&this.state.stockkeys.map((function(e){if(["Open Price","High Price","Low Price","Close Price"].includes(e)){var n=e.toUpperCase()+" : "+t.state.stockdetails[e];return(0,a.jsx)(g.Z,{color:"primary",variant:"outlined",label:n,style:{margin:"5px",backgroundColor:"#05386B",color:"#5CDB95"}})}var o=e+" : "+t.state.stockdetails[e];return(0,a.jsx)(g.Z,{color:"primary",variant:"outlined",label:o,style:{margin:"5px",backgroundColor:"#5CDB95",color:"#05386B"}})})),""!==this.state.selectedCompany&&0!==this.state.stockdetails.length&&(0,a.jsx)(k.default,{company:this.state.selectedCompany})]})}}]),n}(v.Component);e.default=(0,x.Z)((function(t){return{formControl:{margin:t.spacing(1),minWidth:150},selectEmpty:{marginTop:t.spacing(2)}}}))(b)},3484:function(t,e,n){"use strict";n.r(e);var a=n(5893),o=n(6610),s=n(5991),r=n(3349),i=n(5255),c=n(6070),l=n(7608),u=n(6156),d=n(7294),p=n(9669),f=n.n(p),h=n(5152),y=n(4670),m=n(4837),g=n(282),x=n(1607);function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,l.Z)(t);if(e){var o=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,c.Z)(this,n)}}var C=(0,h.default)((function(){return Promise.all([n.e(279),n.e(229)]).then(n.bind(n,7229))}),{ssr:!1,loadableGenerated:{webpack:function(){return[7229]},modules:["Components\\Dashboard.jsx -> react-apexcharts"]}}),D=function(t){(0,i.Z)(n,t);var e=v(n);function n(t){var a;return(0,o.Z)(this,n),a=e.call(this,t),(0,u.Z)((0,r.Z)(a),"componentDidMount",(function(){console.log("Dashboard"),"sp500"!==a.props.company?a.setState({company:a.props.company},(function(){f().get("/api/stockdetails?company="+a.state.company).then((function(t){200===t.status?a.setState({details:t.data,loading:!1},(function(){})):a.setState({details:[],loading:!1},(function(){}))})).then((function(){})).catch((function(t){console.log(t),a.setState({loading:!1,error:!0},(function(){}))}))})):a.setState({company:a.props.company},(function(){f().get("/api/sp500").then((function(t){200===t.status?a.setState({details:t.data,loading:!1},(function(){})):a.setState({details:[],loading:!1},(function(){}))})).catch((function(t){console.log(t),a.setState({loading:!1,error:!0},(function(){}))}))}))})),(0,u.Z)((0,r.Z)(a),"createGraph",(function(t){var e={name:"Close Price",data:[]},n={name:"Open Price",data:[]},o={name:"High Price",data:[]},s={name:"Low Price",data:[]};t="all"===t||t>a.state.details.length-1?a.state.details.length-1:t;for(var r=a.state.details[0].Date,i=a.state.details[t].Date,c=a.state.details.slice(0,t),l=0;l<c.length;l++){var u=c[l];e.data.push({x:u.Date,y:u["Close Price"]||u.Close}),n.data.push({x:u.Date,y:u["Open Price"]||u.Open}),o.data.push({x:u.Date,y:u["High Price"]||u.High}),s.data.push({x:u.Date,y:u["Low Price"]||u.Low})}var d=a.state.options;d.xaxis.min=i,d.xaxis.max=r;var p=[];p.push(e),p.push(n),p.push(o),p.push(s),a.setState({series:p,options:d},(function(){}))})),(0,u.Z)((0,r.Z)(a),"selectedPeriod",(function(t){var e=t.currentTarget.value;a.state.selectedPeriod!==e&&a.setState({selectedPeriod:e},(function(){a.createGraph(e)}))})),a.state={loading:!0,details:[],selectedPeriod:"",company:"",error:!1,series:[],options:{chart:{background:"#ffffff",type:"area",height:"auto",zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:2,dashArray:0},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Stock Price Movement",align:"left",style:{fontSize:"18px",fontWeight:"bold",fontFamily:"Sans-serif",color:"black",display:"flex",justifyContent:"center"}},fill:{type:"solid",opacity:.9,gradient:{shadeIntensity:1,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,90,100]}},yaxis:{labels:{formatter:function(t){return t.toFixed()}},title:{text:"Price in Rs"}},xaxis:{type:"datetime",labels:{formatter:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}},title:{text:"Time Period"}},tooltip:{shared:!1,x:{formatter:function(t){var e=new Date(t);return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}},y:{formatter:function(t){return t}}}}},a}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props.classes;return(0,a.jsx)(d.Fragment,{children:this.state.loading?(0,a.jsx)(x.Z,{type:"ThreeDots",color:"#05386B",height:80,width:80}):!0!==this.state.error&&(0,a.jsxs)("div",{children:[(0,a.jsxs)(m.Z,{className:t.buttongroup,"aria-label":"contained primary button group",variant:"outlined",style:{display:"flex",justifyContent:"center",margin:"10px",backgroundColor:"#05386B"},children:[(0,a.jsx)(g.Z,{value:"7",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"7D"}),(0,a.jsx)(g.Z,{value:"30",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"1M"}),(0,a.jsx)(g.Z,{value:"90",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"3M"}),(0,a.jsx)(g.Z,{value:"180",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"6M"}),(0,a.jsx)(g.Z,{value:"360",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"1Y"}),(0,a.jsx)(g.Z,{value:"1800",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"5Y"}),(0,a.jsx)(g.Z,{value:"all",onClick:this.selectedPeriod,style:{color:"#5CDB95"},children:"All"})]}),(0,a.jsx)("div",{className:t.divchart,children:(0,a.jsx)(C,{options:this.state.options,series:this.state.series,className:t.chart},"chart")})]})})}}]),n}(d.Component);e.default=(0,y.Z)((function(t){return{chart:{width:"80%"},divchart:{justifyContent:"center",alignItems:"center",display:"flex"},buttongroup:{display:"flex",justifyContent:"center",margin:"10px"}}}),{withTheme:!0})(D)},26:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Components/CompanyDetails",function(){return n(8934)}])}},function(t){t.O(0,[774,727,669,720,607,873,372,888,179],(function(){return e=26,t(t.s=e);var e}));var e=t.O();_N_E=e}]);